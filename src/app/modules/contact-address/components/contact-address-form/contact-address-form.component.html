<ng-container *ngIf="formErrors.length">
    <div class="alert alert-danger">
        <div class="d-flex flex-column">
            <span *ngFor="let error of formErrors">{{error}}</span>
        </div>
    </div>
</ng-container>

<form [formGroup]="contactAddressForm"
    class="form d-flex flex-column flex-lg-row fv-plugins-bootstrap5 fv-plugins-framework">
    <div class="d-flex flex-column flex-row-fluid gap-7 gap-lg-10">
        <div class="card card-flush py-4">
            <div class="card-body">
                <label class="required form-label">Başlık</label>
                <app-translation-entry *ngIf="formModel" [entries]="titleTranslations" [placeholder]="'title'"
                    (change)="onTranslationEntryChange()"></app-translation-entry>
            </div>

            <div class="card-body pt-0">
                <label class="required form-label">Adres</label>
                <app-translation-entry *ngIf="formModel" [entries]="addressTranslations" [placeholder]="'address'"
                    (change)="onTranslationEntryChange()"></app-translation-entry>
            </div>

            <div class="card-body pt-0">
                <label class="required form-label">Çalışma Saatleri</label>
                <app-translation-entry *ngIf="formModel" [entries]="workingHoursTranslations"
                    [placeholder]="'working hours'" (change)="onTranslationEntryChange()"></app-translation-entry>
            </div>

            <div class="card-body pt-0">
                <label class="required form-label">E-Posta</label>
                <input placeholder="email" class="form-control" type="text" formControlName="email">
            </div>

            <div class="card-body pt-0">
                <label class="required form-label">Telefon</label>
                <div class="d-flex flex-row">
                    <select class="form-control" style="width: 8rem; margin-right: 1rem"
                        formControlName="phoneNumberCountryCode">
                        <option *ngFor="let country of countries" [value]="'+'+country.phoneCode">+{{country.phoneCode}}
                        </option>
                    </select>
                    <input placeholder="telefon" class="form-control" type="text" formControlName="phone">
                </div>
            </div>

            <div class="card-body pt-0">
                <label class="required form-label">Sıra</label>
                <input placeholder="order" class="form-control" type="number" formControlName="sortOrder">
            </div>

            <div class="card-body pt-0">
                <label>Durum</label>
                <select class="form-select" aria-label="status" formControlName="status">
                    <option [value]="1">Aktif</option>
                    <option [value]="2">Pasif</option>
                </select>
                <div class="text-muted fs-7">Adres durumunu ayarlayın.</div>
            </div>

            <div class="card-body pt-0">
                <label class="required form-label">Latitude Longitude</label>
                <input placeholder="location" class="form-control" type="text" readonly
                    formControlName="latitudeLongitude">
            </div>
            <div class="card-body pt-0">
                <app-google-map (mapClick)="onMapClick($event)" #map></app-google-map>
            </div>
        </div>

        <div class="d-flex justify-content-end">
            <button routerLink="/apps/administration/contact-addresses/list" class="btn btn-light me-5">İptal</button>
            <button type="button" (click)="onSaveClick()" [attr.data-kt-indicator]="isLoading ? 'on' : 'off'"
                [disabled]="isLoading" class="btn btn-primary">
                <span class="indicator-label">Değişiklikleri Kaydet</span>
                <span class="indicator-progress">Lütfen bekleyin...
                    <span class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
            </button>
        </div>
    </div>
</form>